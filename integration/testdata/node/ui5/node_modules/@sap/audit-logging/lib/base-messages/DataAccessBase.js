'use strict';

var utils = require('../utils');
var MessageBase = require('./MessageBase');

module.exports = DataAccessBase;

function DataAccessBase(content, transport) {
  MessageBase.call(this, content, transport);
  this._endpoint = 'data-accesses';

  this._content.attributes = [];
}

require('util').inherits(DataAccessBase, MessageBase);

DataAccessBase.prototype.accessChannel = function (channel) {
  utils.validate.notEmptyString(channel, 'accessChannel');
  this._content.channel = channel;
  return this;
};

DataAccessBase.prototype._validateContent = function () {
  MessageBase.prototype._validateContent.call(this);
  utils.validate.attributesLength(this._content.attributes);
};

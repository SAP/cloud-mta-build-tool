'use strict';

var SAPPassport = require('@sap/e2e-trace').Passport;

module.exports = {

  NOCACHE_HEADER_VALUE : 'no-cache, no-store, must-revalidate',

  updateSapPassport: function (headers, optTargetHeaders) {
    var passportHeader = headers[SAPPassport.HEADER_NAME];
    if (passportHeader) {
      var passport = new SAPPassport(passportHeader);
      passport.update({
        previousComponent: 'XSA Approuter',
        connectionID: '00000000000000000000000000000000',
        connectionCounter: 0
      });
      var headersToUpdate = optTargetHeaders || headers;
      headersToUpdate[SAPPassport.HEADER_NAME] = passport.serialize();
    }
  }
};

# Create META-INF folder with MANIFEST.MF & mtad.yaml
meta: $(modules) post_build
{{"\t"}}@$(MBT) gen meta -p=${p} -t=${t}

post_build: $(modules)
{{"\t"}}@$(MBT) project build -p=post

# Validate mta.yaml
validate: pre_build
{{"\t"}}@$(MBT) validate -r=${strict}

# Pack as MTAR artifact
mtar: $(modules) meta
{{"\t"}}@$(MBT) gen mtar -t=${t} --mtar=${mtar} --target_provided=${target_provided}

cleanup: mtar
# Remove tmp folder
{{"\t"}}@$(MBT) clean -t=${t}